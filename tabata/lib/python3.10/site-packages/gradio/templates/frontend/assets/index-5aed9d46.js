import{S as me,e as ge,s as be,y as we,o as A,P as Fe,h as C,p as Q,w as B,r as U,u as I,v as W,k as E,C as Le,a3 as Ve,F,G as L,H as V,a4 as Xe,N as le,E as K,I as Z,m as z,g as d,K as N,Y as R,j as S,ar as qe,Z as de,X as P,B as Me,t as ke,x as ve,V as Pe,ae as Te,Q as Ke,R as Qe}from"./index-39fce9e2.js";import{B as Ue}from"./Button-79f6e3bf.js";import{B as We}from"./BlockLabel-b1428685.js";import{I as Ye}from"./IconButton-0ac328a0.js";import{E as Ze}from"./Empty-16d6169a.js";import{u as Je,S as Oe}from"./ShareButton-c9a8cbaf.js";import{n as te}from"./ModifyUpload.svelte_svelte_type_style_lang-14b768c9.js";import{M as ye}from"./ModifyUpload-02c07c98.js";import{D as pe}from"./Download-0afd7f1a.js";import{I as je}from"./Image-e7c48875.js";async function xe(l){return l?`<div style="display: flex; flex-wrap: wrap; gap: 16px">${(await Promise.all(l.map(async([e,n])=>e===null?"":await Je(e.data,"url")))).map(e=>`<img src="${e}" style="height: 400px" />`).join("")}</div>`:""}const{window:Be}=Ve;function ne(l,t,e){const n=l.slice();return n[38]=t[e][0],n[39]=t[e][1],n[41]=e,n}function ie(l,t,e){const n=l.slice();return n[38]=t[e],n[42]=t,n[41]=e,n}function oe(l){let t,e;return t=new We({props:{show_label:l[0],Icon:je,label:l[1]||"Gallery"}}),{c(){F(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const a={};i[0]&1&&(a.show_label=n[0]),i[0]&2&&(a.label=n[1]||"Gallery"),t.$set(a)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function $e(l){let t,e,n,i,a,_,o=l[11]!==null&&l[6]&&re(l),r=l[8]&&ue(l),g=Z(l[10]),c=[];for(let u=0;u<g.length;u+=1)c[u]=ce(ne(l,g,u));return{c(){o&&o.c(),t=A(),e=z("div"),n=z("div"),r&&r.c(),i=A();for(let u=0;u<c.length;u+=1)c[u].c();d(n,"class","grid-container svelte-1b19cri"),N(n,"--grid-cols",l[3]),N(n,"--grid-rows",l[4]),N(n,"--object-fit",l[7]),N(n,"height",l[5]),R(n,"pt-6",l[0]),d(e,"class","grid-wrap svelte-1b19cri"),we(()=>l[33].call(e)),R(e,"fixed-height",!l[5]||l[5]=="auto")},m(u,s){o&&o.m(u,s),C(u,t,s),C(u,e,s),S(e,n),r&&r.m(n,null),S(n,i);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(n,null);a=qe(e,l[33].bind(e)),_=!0},p(u,s){if(u[11]!==null&&u[6]?o?(o.p(u,s),s[0]&2112&&B(o,1)):(o=re(u),o.c(),B(o,1),o.m(t.parentNode,t)):o&&(U(),I(o,1,1,()=>{o=null}),W()),u[8]?r?(r.p(u,s),s[0]&256&&B(r,1)):(r=ue(u),r.c(),B(r,1),r.m(n,i)):r&&(U(),I(r,1,1,()=>{r=null}),W()),s[0]&3072){g=Z(u[10]);let h;for(h=0;h<g.length;h+=1){const k=ne(u,g,h);c[h]?c[h].p(k,s):(c[h]=ce(k),c[h].c(),c[h].m(n,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=g.length}(!_||s[0]&8)&&N(n,"--grid-cols",u[3]),(!_||s[0]&16)&&N(n,"--grid-rows",u[4]),(!_||s[0]&128)&&N(n,"--object-fit",u[7]),(!_||s[0]&32)&&N(n,"height",u[5]),(!_||s[0]&1)&&R(n,"pt-6",u[0]),(!_||s[0]&32)&&R(e,"fixed-height",!u[5]||u[5]=="auto")},i(u){_||(B(o),B(r),_=!0)},o(u){I(o),I(r),_=!1},d(u){u&&(E(t),E(e)),o&&o.d(u),r&&r.d(),de(c,u),a()}}}function el(l){let t,e;return t=new Ze({props:{unpadded_box:!0,size:"large",$$slots:{default:[ll]},$$scope:{ctx:l}}}),{c(){F(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,i){const a={};i[1]&4096&&(a.$$scope={dirty:i,ctx:n}),t.$set(a)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function re(l){let t,e,n,i,a,_,o,r,g,c,u,s,h,k,X,v=l[9]&&ae(l);i=new ye({props:{absolute:!1}}),i.$on("clear",l[25]);let D=l[10][l[11]][1]&&se(l),H=Z(l[10]),j=[];for(let b=0;b<H.length;b+=1)j[b]=fe(ie(l,H,b));return{c(){t=z("div"),e=z("div"),v&&v.c(),n=A(),F(i.$$.fragment),a=A(),_=z("img"),c=A(),D&&D.c(),u=A(),s=z("div");for(let b=0;b<j.length;b+=1)j[b].c();d(e,"class","icon-buttons svelte-1b19cri"),d(_,"data-testid","detailed-image"),P(_.src,o=l[10][l[11]][0].data)||d(_,"src",o),d(_,"alt",r=l[10][l[11]][1]||""),d(_,"title",g=l[10][l[11]][1]||null),N(_,"height","calc(100% - "+(l[10][l[11]][1]?"80px":"60px")+")"),d(_,"class","svelte-1b19cri"),R(_,"with-caption",!!l[10][l[11]][1]),d(s,"class","thumbnails scroll-hide svelte-1b19cri"),d(s,"data-testid","container_el"),d(t,"class","preview svelte-1b19cri")},m(b,G){C(b,t,G),S(t,e),v&&v.m(e,null),S(e,n),L(i,e,null),S(t,a),S(t,_),S(t,c),D&&D.m(t,null),S(t,u),S(t,s);for(let w=0;w<j.length;w+=1)j[w]&&j[w].m(s,null);l[29](s),h=!0,k||(X=[Q(_,"click",l[26]),Q(t,"keydown",l[17])],k=!0)},p(b,G){if(b[9]?v?(v.p(b,G),G[0]&512&&B(v,1)):(v=ae(b),v.c(),B(v,1),v.m(e,n)):v&&(U(),I(v,1,1,()=>{v=null}),W()),(!h||G[0]&3072&&!P(_.src,o=b[10][b[11]][0].data))&&d(_,"src",o),(!h||G[0]&3072&&r!==(r=b[10][b[11]][1]||""))&&d(_,"alt",r),(!h||G[0]&3072&&g!==(g=b[10][b[11]][1]||null))&&d(_,"title",g),(!h||G[0]&3072)&&N(_,"height","calc(100% - "+(b[10][b[11]][1]?"80px":"60px")+")"),(!h||G[0]&3072)&&R(_,"with-caption",!!b[10][b[11]][1]),b[10][b[11]][1]?D?D.p(b,G):(D=se(b),D.c(),D.m(t,u)):D&&(D.d(1),D=null),G[0]&7168){H=Z(b[10]);let w;for(w=0;w<H.length;w+=1){const q=ie(b,H,w);j[w]?j[w].p(q,G):(j[w]=fe(q),j[w].c(),j[w].m(s,null))}for(;w<j.length;w+=1)j[w].d(1);j.length=H.length}},i(b){h||(B(v),B(i.$$.fragment,b),h=!0)},o(b){I(v),I(i.$$.fragment,b),h=!1},d(b){b&&E(t),v&&v.d(),V(i),D&&D.d(),de(j,b),l[29](null),k=!1,Me(X)}}}function ae(l){let t,e,n,i;return e=new Ye({props:{Icon:pe,label:"Download"}}),{c(){t=z("a"),F(e.$$.fragment),d(t,"href",n=he(l[2][l[11]])),d(t,"target",window.__is_colab__?"_blank":null),d(t,"download","image"),d(t,"class","svelte-1b19cri")},m(a,_){C(a,t,_),L(e,t,null),i=!0},p(a,_){(!i||_[0]&2052&&n!==(n=he(a[2][a[11]])))&&d(t,"href",n)},i(a){i||(B(e.$$.fragment,a),i=!0)},o(a){I(e.$$.fragment,a),i=!1},d(a){a&&E(t),V(e)}}}function se(l){let t,e=l[10][l[11]][1]+"",n;return{c(){t=z("div"),n=ke(e),d(t,"class","caption svelte-1b19cri")},m(i,a){C(i,t,a),S(t,n)},p(i,a){a[0]&3072&&e!==(e=i[10][i[11]][1]+"")&&ve(n,e)},d(i){i&&E(t)}}}function fe(l){let t,e,n,i,a,_,o=l[41],r,g;const c=()=>l[27](t,o),u=()=>l[27](null,o);function s(){return l[28](l[41])}return{c(){t=z("button"),e=z("img"),_=A(),P(e.src,n=l[38][0].data)||d(e,"src",n),d(e,"title",i=l[38][1]||null),d(e,"alt",a=l[38][1]||null),d(e,"class","svelte-1b19cri"),d(t,"class","thumbnail-item thumbnail-small svelte-1b19cri"),R(t,"selected",l[11]===l[41])},m(h,k){C(h,t,k),S(t,e),S(t,_),c(),r||(g=Q(t,"click",s),r=!0)},p(h,k){l=h,k[0]&1024&&!P(e.src,n=l[38][0].data)&&d(e,"src",n),k[0]&1024&&i!==(i=l[38][1]||null)&&d(e,"title",i),k[0]&1024&&a!==(a=l[38][1]||null)&&d(e,"alt",a),o!==l[41]&&(u(),o=l[41],c()),k[0]&2048&&R(t,"selected",l[11]===l[41])},d(h){h&&E(t),u(),r=!1,g()}}}function ue(l){let t,e,n;return e=new Oe({props:{value:l[10],formatter:xe}}),e.$on("share",l[30]),e.$on("error",l[31]),{c(){t=z("div"),F(e.$$.fragment),d(t,"class","icon-button svelte-1b19cri")},m(i,a){C(i,t,a),L(e,t,null),n=!0},p(i,a){const _={};a[0]&1024&&(_.value=i[10]),e.$set(_)},i(i){n||(B(e.$$.fragment,i),n=!0)},o(i){I(e.$$.fragment,i),n=!1},d(i){i&&E(t),V(e)}}}function _e(l){let t,e=l[39]+"",n;return{c(){t=z("div"),n=ke(e),d(t,"class","caption-label svelte-1b19cri")},m(i,a){C(i,t,a),S(t,n)},p(i,a){a[0]&1024&&e!==(e=i[39]+"")&&ve(n,e)},d(i){i&&E(t)}}}function ce(l){let t,e,n,i,a,_,o,r,g=l[39]&&_e(l);function c(){return l[32](l[41])}return{c(){t=z("button"),e=z("img"),a=A(),g&&g.c(),_=A(),d(e,"alt",n=l[39]||""),P(e.src,i=typeof l[38]=="string"?l[38]:l[38].data)||d(e,"src",i),d(e,"class","svelte-1b19cri"),d(t,"class","thumbnail-item thumbnail-lg svelte-1b19cri"),R(t,"selected",l[11]===l[41])},m(u,s){C(u,t,s),S(t,e),S(t,a),g&&g.m(t,null),S(t,_),o||(r=Q(t,"click",c),o=!0)},p(u,s){l=u,s[0]&1024&&n!==(n=l[39]||"")&&d(e,"alt",n),s[0]&1024&&!P(e.src,i=typeof l[38]=="string"?l[38]:l[38].data)&&d(e,"src",i),l[39]?g?g.p(l,s):(g=_e(l),g.c(),g.m(t,_)):g&&(g.d(1),g=null),s[0]&2048&&R(t,"selected",l[11]===l[41])},d(u){u&&E(t),g&&g.d(),o=!1,r()}}}function ll(l){let t,e;return t=new je({}),{c(){F(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function tl(l){let t,e,n,i,a,_,o;we(l[24]);let r=l[0]&&oe(l);const g=[el,$e],c=[];function u(s,h){return s[2]===null||s[10]===null||s[10].length===0?0:1}return e=u(l),n=c[e]=g[e](l),{c(){r&&r.c(),t=A(),n.c(),i=Fe()},m(s,h){r&&r.m(s,h),C(s,t,h),c[e].m(s,h),C(s,i,h),a=!0,_||(o=Q(Be,"resize",l[24]),_=!0)},p(s,h){s[0]?r?(r.p(s,h),h[0]&1&&B(r,1)):(r=oe(s),r.c(),B(r,1),r.m(t.parentNode,t)):r&&(U(),I(r,1,1,()=>{r=null}),W());let k=e;e=u(s),e===k?c[e].p(s,h):(U(),I(c[k],1,1,()=>{c[k]=null}),W(),n=c[e],n?n.p(s,h):(n=c[e]=g[e](s),n.c()),B(n,1),n.m(i.parentNode,i))},i(s){a||(B(r),B(n),a=!0)},o(s){I(r),I(n),a=!1},d(s){s&&(E(t),E(i)),r&&r.d(s),c[e].d(s),_=!1,o()}}}function nl(l){return typeof l=="object"&&l!==null&&"data"in l}function he(l){return nl(l)?l.data:typeof l=="string"?l:""}function il(l,t,e){let n,i,{show_label:a=!0}=t,{label:_}=t,{root:o=""}=t,{root_url:r=null}=t,{value:g=null}=t,{grid_cols:c=[2]}=t,{grid_rows:u=void 0}=t,{height:s="auto"}=t,{preview:h}=t,{allow_preview:k=!0}=t,{object_fit:X="cover"}=t,{show_share_button:v=!1}=t,{show_download_button:D=!1}=t;const H=Le();let j=!0,b=null,G=g,w=h&&g?.length?0:null,q=w;function Y(f){const T=f.target,y=f.clientX,p=T.offsetWidth/2;y<p?e(11,w=n):e(11,w=i)}function J(f){switch(f.code){case"Escape":f.preventDefault(),e(11,w=null);break;case"ArrowLeft":f.preventDefault(),e(11,w=n);break;case"ArrowRight":f.preventDefault(),e(11,w=i);break}}let m=[],M;async function De(f){if(typeof f!="number")return;await Xe(),m[f].focus();const{left:T,width:y}=M.getBoundingClientRect(),{left:$,width:p}=m[f].getBoundingClientRect(),ee=$-T+p/2-y/2+M.scrollLeft;M?.scrollTo({left:ee<0?0:ee,behavior:"smooth"})}let O=0,x=0;function Ge(){e(15,x=Be.innerHeight)}const Ie=()=>e(11,w=null),Se=f=>Y(f);function ze(f,T){le[f?"unshift":"push"](()=>{m[T]=f,e(12,m)})}const Ce=f=>e(11,w=f);function Ee(f){le[f?"unshift":"push"](()=>{M=f,e(13,M)})}function He(f){K.call(this,l,f)}function Ae(f){K.call(this,l,f)}const Ne=f=>e(11,w=f);function Re(){O=this.clientHeight,e(14,O)}return l.$$set=f=>{"show_label"in f&&e(0,a=f.show_label),"label"in f&&e(1,_=f.label),"root"in f&&e(18,o=f.root),"root_url"in f&&e(19,r=f.root_url),"value"in f&&e(2,g=f.value),"grid_cols"in f&&e(3,c=f.grid_cols),"grid_rows"in f&&e(4,u=f.grid_rows),"height"in f&&e(5,s=f.height),"preview"in f&&e(20,h=f.preview),"allow_preview"in f&&e(6,k=f.allow_preview),"object_fit"in f&&e(7,X=f.object_fit),"show_share_button"in f&&e(8,v=f.show_share_button),"show_download_button"in f&&e(9,D=f.show_download_button)},l.$$.update=()=>{l.$$.dirty[0]&2097156&&e(21,j=g==null||g.length==0?!0:j),l.$$.dirty[0]&786436&&e(10,b=g===null?null:g.map(f=>Array.isArray(f)?[te(f[0],o,r),f[1]]:[te(f,o,r),null])),l.$$.dirty[0]&7342084&&G!==g&&(j?(e(11,w=h&&g?.length?0:null),e(21,j=!1)):e(11,w=w!==null&&g!==null&&w<g.length?w:null),e(22,G=g)),l.$$.dirty[0]&3072&&(n=((w??0)+(b?.length??0)-1)%(b?.length??0)),l.$$.dirty[0]&3072&&(i=((w??0)+1)%(b?.length??0)),l.$$.dirty[0]&8391680&&w!==q&&(e(23,q=w),w!==null&&H("select",{index:w,value:b?.[w][1]})),l.$$.dirty[0]&2112&&k&&De(w)},[a,_,g,c,u,s,k,X,v,D,b,w,m,M,O,x,Y,J,o,r,h,j,G,q,Ge,Ie,Se,ze,Ce,Ee,He,Ae,Ne,Re]}class ol extends me{constructor(t){super(),ge(this,t,il,tl,be,{show_label:0,label:1,root:18,root_url:19,value:2,grid_cols:3,grid_rows:4,height:5,preview:20,allow_preview:6,object_fit:7,show_share_button:8,show_download_button:9},null,[-1,-1])}}function rl(l){let t,e,n,i;const a=[l[0]];let _={};for(let o=0;o<a.length;o+=1)_=Pe(_,a[o]);return t=new Te({props:_}),n=new ol({props:{label:l[2],value:l[8],show_label:l[1],root:l[3],root_url:l[4],grid_cols:l[12],grid_rows:l[13],height:l[14],preview:l[15],object_fit:l[17],allow_preview:l[16],show_share_button:l[18],show_download_button:l[19]}}),n.$on("select",l[20]),n.$on("share",l[21]),n.$on("error",l[22]),{c(){F(t.$$.fragment),e=A(),F(n.$$.fragment)},m(o,r){L(t,o,r),C(o,e,r),L(n,o,r),i=!0},p(o,r){const g=r&1?Ke(a,[Qe(o[0])]):{};t.$set(g);const c={};r&4&&(c.label=o[2]),r&256&&(c.value=o[8]),r&2&&(c.show_label=o[1]),r&8&&(c.root=o[3]),r&16&&(c.root_url=o[4]),r&4096&&(c.grid_cols=o[12]),r&8192&&(c.grid_rows=o[13]),r&16384&&(c.height=o[14]),r&32768&&(c.preview=o[15]),r&131072&&(c.object_fit=o[17]),r&65536&&(c.allow_preview=o[16]),r&262144&&(c.show_share_button=o[18]),r&524288&&(c.show_download_button=o[19]),n.$set(c)},i(o){i||(B(t.$$.fragment,o),B(n.$$.fragment,o),i=!0)},o(o){I(t.$$.fragment,o),I(n.$$.fragment,o),i=!1},d(o){o&&E(e),V(t,o),V(n,o)}}}function al(l){let t,e;return t=new Ue({props:{visible:l[7],variant:"solid",padding:!1,elem_id:l[5],elem_classes:l[6],container:l[9],scale:l[10],min_width:l[11],allow_overflow:!1,height:typeof l[14]=="number"?l[14]:void 0,$$slots:{default:[rl]},$$scope:{ctx:l}}}),{c(){F(t.$$.fragment)},m(n,i){L(t,n,i),e=!0},p(n,[i]){const a={};i&128&&(a.visible=n[7]),i&32&&(a.elem_id=n[5]),i&64&&(a.elem_classes=n[6]),i&512&&(a.container=n[9]),i&1024&&(a.scale=n[10]),i&2048&&(a.min_width=n[11]),i&16384&&(a.height=typeof n[14]=="number"?n[14]:void 0),i&9433375&&(a.$$scope={dirty:i,ctx:n}),t.$set(a)},i(n){e||(B(t.$$.fragment,n),e=!0)},o(n){I(t.$$.fragment,n),e=!1},d(n){V(t,n)}}}function sl(l,t,e){let{loading_status:n}=t,{show_label:i}=t,{label:a}=t,{root:_}=t,{root_url:o}=t,{elem_id:r=""}=t,{elem_classes:g=[]}=t,{visible:c=!0}=t,{value:u=null}=t,{container:s=!0}=t,{scale:h=null}=t,{min_width:k=void 0}=t,{grid_cols:X=[2]}=t,{grid_rows:v=void 0}=t,{height:D="auto"}=t,{preview:H}=t,{allow_preview:j=!0}=t,{object_fit:b="cover"}=t,{show_share_button:G=!1}=t,{show_download_button:w=!1}=t;function q(m){K.call(this,l,m)}function Y(m){K.call(this,l,m)}function J(m){K.call(this,l,m)}return l.$$set=m=>{"loading_status"in m&&e(0,n=m.loading_status),"show_label"in m&&e(1,i=m.show_label),"label"in m&&e(2,a=m.label),"root"in m&&e(3,_=m.root),"root_url"in m&&e(4,o=m.root_url),"elem_id"in m&&e(5,r=m.elem_id),"elem_classes"in m&&e(6,g=m.elem_classes),"visible"in m&&e(7,c=m.visible),"value"in m&&e(8,u=m.value),"container"in m&&e(9,s=m.container),"scale"in m&&e(10,h=m.scale),"min_width"in m&&e(11,k=m.min_width),"grid_cols"in m&&e(12,X=m.grid_cols),"grid_rows"in m&&e(13,v=m.grid_rows),"height"in m&&e(14,D=m.height),"preview"in m&&e(15,H=m.preview),"allow_preview"in m&&e(16,j=m.allow_preview),"object_fit"in m&&e(17,b=m.object_fit),"show_share_button"in m&&e(18,G=m.show_share_button),"show_download_button"in m&&e(19,w=m.show_download_button)},[n,i,a,_,o,r,g,c,u,s,h,k,X,v,D,H,j,b,G,w,q,Y,J]}class fl extends me{constructor(t){super(),ge(this,t,sl,al,be,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,container:9,scale:10,min_width:11,grid_cols:12,grid_rows:13,height:14,preview:15,allow_preview:16,object_fit:17,show_share_button:18,show_download_button:19})}}const jl=fl,Bl=["static"];export{jl as Component,Bl as modes};
//# sourceMappingURL=index-5aed9d46.js.map
