import{S as ae,e as ie,s as se,o as V,m as R,g as v,Y as T,h as M,p as W,n as oe,k as C,B as ve,E as Q,N as G,t as ue,x as pe,P as ze,aq as hl,O as X,F as z,j as J,G as I,T as x,w as E,r as ee,u as q,v as le,H as F,C as ye,f as ne,a4 as Z,I as te,J as we,W as ke,am as Ie,V as Fe,ae as Ye,Q as Ke,R as Pe}from"./index-9e76ffee.js";import{a as Ve,B as Ge}from"./Button-30a08c0b.js";import{U as gl}from"./Upload-1e84df2f.js";import"./ModifyUpload.svelte_svelte_type_style_lang-14b768c9.js";import{d as ml}from"./dsv-576afacd.js";var Se=Object.prototype.hasOwnProperty;function ce(t,e){var l,n;if(t===e)return!0;if(t&&e&&(l=t.constructor)===e.constructor){if(l===Date)return t.getTime()===e.getTime();if(l===RegExp)return t.toString()===e.toString();if(l===Array){if((n=t.length)===e.length)for(;n--&&ce(t[n],e[n]););return n===-1}if(!l||typeof t=="object"){n=0;for(l in t)if(Se.call(t,l)&&++n&&!Se.call(e,l)||!(l in e)||!ce(t[l],e[l]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function Oe(t){let e,l,n;return{c(){e=R("input"),v(e,"tabindex","-1"),e.value=t[0],v(e,"class","svelte-q8uklq"),T(e,"header",t[3])},m(a,u){M(a,e,u),t[7](e),l||(n=[W(e,"keydown",t[6]),W(e,"blur",t[8])],l=!0)},p(a,u){u&1&&e.value!==a[0]&&(e.value=a[0]),u&8&&T(e,"header",a[3])},d(a){a&&C(e),t[7](null),l=!1,ve(n)}}}function bl(t){let e;return{c(){e=ue(t[0])},m(l,n){M(l,e,n)},p(l,n){n&1&&pe(e,l[0])},d(l){l&&C(e)}}}function wl(t){let e,l;return{c(){e=new hl(!1),l=ze(),e.a=l},m(n,a){e.m(t[0],n,a),M(n,l,a)},p(n,a){a&1&&e.p(n[0])},d(n){n&&(C(l),e.d())}}}function kl(t){let e,l,n,a,u=t[2]&&Oe(t);function o(f,_){return f[4]==="markdown"||f[4]==="html"?wl:bl}let s=o(t),i=s(t);return{c(){u&&u.c(),e=V(),l=R("span"),i.c(),v(l,"tabindex","-1"),v(l,"role","button"),v(l,"class","svelte-q8uklq"),T(l,"edit",t[2])},m(f,_){u&&u.m(f,_),M(f,e,_),M(f,l,_),i.m(l,null),n||(a=W(l,"dblclick",t[5]),n=!0)},p(f,[_]){f[2]?u?u.p(f,_):(u=Oe(f),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),s===(s=o(f))&&i?i.p(f,_):(i.d(1),i=s(f),i&&(i.c(),i.m(l,null))),_&4&&T(l,"edit",f[2])},i:oe,o:oe,d(f){f&&(C(e),C(l)),u&&u.d(f),i.d(),n=!1,a()}}}function vl(t,e,l){let{edit:n}=e,{value:a=""}=e,{el:u}=e,{header:o=!1}=e,{datatype:s="str"}=e;function i(w){Q.call(this,t,w)}function f(w){Q.call(this,t,w)}function _(w){G[w?"unshift":"push"](()=>{u=w,l(1,u)})}const b=({currentTarget:w})=>{l(0,a=w.value),w.setAttribute("tabindex","-1")};return t.$$set=w=>{"edit"in w&&l(2,n=w.edit),"value"in w&&l(0,a=w.value),"el"in w&&l(1,u=w.el),"header"in w&&l(3,o=w.header),"datatype"in w&&l(4,s=w.datatype)},[a,u,n,o,s,i,f,_,b]}class Qe extends ae{constructor(e){super(),ie(this,e,vl,kl,se,{edit:2,value:0,el:1,header:3,datatype:4})}}function Ee(t,e,l){const n=t.slice();return n[53]=e[l],n[55]=l,n}function Le(t,e,l){const n=t.slice();return n[56]=e[l].value,n[57]=e[l].id,n[58]=e,n[59]=l,n}function Be(t,e,l){const n=t.slice();return n[56]=e[l].value,n[57]=e[l].id,n[60]=e,n[55]=l,n}function qe(t){let e,l;return{c(){e=R("p"),l=ue(t[1]),v(e,"class","svelte-1tclfmr")},m(n,a){M(n,e,a),J(e,l)},p(n,a){a[0]&2&&pe(l,n[1])},d(n){n&&C(e)}}}function Me(t){let e,l;return{c(){e=R("caption"),l=ue(t[1]),v(e,"class","sr-only")},m(n,a){M(n,e,a),J(e,l)},p(n,a){a[0]&2&&pe(l,n[1])},d(n){n&&C(e)}}}function Ce(t,e){let l,n,a,u,o,s,i,f,_,b,w,g=e[57],y,d,B;function k(H){e[30](H,e[57])}function m(){return e[31](e[57])}let S={value:e[56],edit:e[13]===e[57],header:!0};e[10][e[57]].input!==void 0&&(S.el=e[10][e[57]].input),a=new Qe({props:S}),G.push(()=>X(a,"el",k)),a.$on("keydown",e[21]),a.$on("dblclick",m);function L(){return e[32](e[55])}const A=()=>e[33](l,g),c=()=>e[33](null,g);return{key:t,first:null,c(){l=R("th"),n=R("div"),z(a.$$.fragment),o=V(),s=R("div"),i=ne("svg"),f=ne("path"),b=V(),v(f,"d","M4.49999 0L8.3971 6.75H0.602875L4.49999 0Z"),v(i,"width","1em"),v(i,"height","1em"),v(i,"viewBox","0 0 9 7"),v(i,"fill","none"),v(i,"xmlns","http://www.w3.org/2000/svg"),v(i,"class","svelte-1tclfmr"),v(s,"class",_="sort-button "+e[11]+" svelte-1tclfmr"),T(s,"sorted",e[12]===e[55]),T(s,"des",e[12]===e[55]&&e[11]==="des"),v(n,"class","cell-wrap svelte-1tclfmr"),v(l,"aria-sort",w=e[15](e[56],e[12],e[11])),v(l,"class","svelte-1tclfmr"),T(l,"editing",e[13]===e[57]),this.first=l},m(H,U){M(H,l,U),J(l,n),I(a,n,null),J(n,o),J(n,s),J(s,i),J(i,f),J(l,b),A(),y=!0,d||(B=W(s,"click",L),d=!0)},p(H,U){e=H;const Y={};U[0]&256&&(Y.value=e[56]),U[0]&8448&&(Y.edit=e[13]===e[57]),!u&&U[0]&1280&&(u=!0,Y.el=e[10][e[57]].input,x(()=>u=!1)),a.$set(Y),(!y||U[0]&2048&&_!==(_="sort-button "+e[11]+" svelte-1tclfmr"))&&v(s,"class",_),(!y||U[0]&6400)&&T(s,"sorted",e[12]===e[55]),(!y||U[0]&6400)&&T(s,"des",e[12]===e[55]&&e[11]==="des"),(!y||U[0]&6400&&w!==(w=e[15](e[56],e[12],e[11])))&&v(l,"aria-sort",w),g!==e[57]&&(c(),g=e[57],A()),(!y||U[0]&8448)&&T(l,"editing",e[13]===e[57])},i(H){y||(E(a.$$.fragment,H),y=!0)},o(H){q(a.$$.fragment,H),y=!1},d(H){H&&C(l),F(a),c(),d=!1,B()}}}function Je(t,e){let l,n,a,u,o,s=e[57],i,f,_;function b(L){e[34](L,e[56],e[58],e[59])}function w(L){e[35](L,e[57])}let g={edit:e[7]===e[57],datatype:Array.isArray(e[0])?e[0][e[59]]:e[0]};e[56]!==void 0&&(g.value=e[56]),e[10][e[57]].input!==void 0&&(g.el=e[10][e[57]].input),a=new Qe({props:g}),G.push(()=>X(a,"value",b)),G.push(()=>X(a,"el",w));const y=()=>e[36](l,s),d=()=>e[36](null,s);function B(){return e[37](e[57])}function k(){return e[38](e[57])}function m(){return e[39](e[57])}function S(...L){return e[40](e[55],e[59],e[57],...L)}return{key:t,first:null,c(){l=R("td"),n=R("div"),z(a.$$.fragment),v(n,"class","cell-wrap svelte-1tclfmr"),T(n,"border-transparent",e[6]!==e[57]),v(l,"tabindex","0"),v(l,"class","svelte-1tclfmr"),this.first=l},m(L,A){M(L,l,A),J(l,n),I(a,n,null),y(),i=!0,f||(_=[W(l,"touchstart",B,{passive:!0}),W(l,"click",k),W(l,"dblclick",m),W(l,"keydown",S)],f=!0)},p(L,A){e=L;const c={};A[0]&640&&(c.edit=e[7]===e[57]),A[0]&513&&(c.datatype=Array.isArray(e[0])?e[0][e[59]]:e[0]),!u&&A[0]&512&&(u=!0,c.value=e[56],x(()=>u=!1)),!o&&A[0]&1536&&(o=!0,c.el=e[10][e[57]].input,x(()=>o=!1)),a.$set(c),(!i||A[0]&576)&&T(n,"border-transparent",e[6]!==e[57]),s!==e[57]&&(d(),s=e[57],y())},i(L){i||(E(a.$$.fragment,L),i=!0)},o(L){q(a.$$.fragment,L),i=!1},d(L){L&&C(l),F(a),d(),f=!1,ve(_)}}}function Te(t,e){let l,n=[],a=new Map,u,o,s=te(e[53]);const i=f=>f[57];for(let f=0;f<s.length;f+=1){let _=Le(e,s,f),b=i(_);a.set(b,n[f]=Je(b,_))}return{key:t,first:null,c(){l=R("tr");for(let f=0;f<n.length;f+=1)n[f].c();u=V(),v(l,"class","svelte-1tclfmr"),this.first=l},m(f,_){M(f,l,_);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(l,null);J(l,u),o=!0},p(f,_){e=f,_[0]&460481&&(s=te(e[53]),ee(),n=we(n,_,i,1,e,s,a,l,ke,Je,u,Le),le())},i(f){if(!o){for(let _=0;_<s.length;_+=1)E(n[_]);o=!0}},o(f){for(let _=0;_<n.length;_+=1)q(n[_]);o=!1},d(f){f&&C(l);for(let _=0;_<n.length;_+=1)n[_].d()}}}function pl(t){let e,l,n,a,u=[],o=new Map,s,i,f=[],_=new Map,b,w=t[1]&&t[1].length!==0&&Me(t),g=te(t[8]);const y=k=>k[57];for(let k=0;k<g.length;k+=1){let m=Be(t,g,k),S=y(m);o.set(S,u[k]=Ce(S,m))}let d=te(t[9]);const B=k=>k[53];for(let k=0;k<d.length;k+=1){let m=Ee(t,d,k),S=B(m);_.set(S,f[k]=Te(S,m))}return{c(){e=R("table"),w&&w.c(),l=V(),n=R("thead"),a=R("tr");for(let k=0;k<u.length;k+=1)u[k].c();s=V(),i=R("tbody");for(let k=0;k<f.length;k+=1)f[k].c();v(a,"class","svelte-1tclfmr"),v(n,"class","svelte-1tclfmr"),v(i,"class","svelte-1tclfmr"),v(e,"class","svelte-1tclfmr"),T(e,"dragging",t[14])},m(k,m){M(k,e,m),w&&w.m(e,null),J(e,l),J(e,n),J(n,a);for(let S=0;S<u.length;S+=1)u[S]&&u[S].m(a,null);J(e,s),J(e,i);for(let S=0;S<f.length;S+=1)f[S]&&f[S].m(i,null);b=!0},p(k,m){k[1]&&k[1].length!==0?w?w.p(k,m):(w=Me(k),w.c(),w.m(e,l)):w&&(w.d(1),w=null),m[0]&3718400&&(g=te(k[8]),ee(),u=we(u,m,y,1,k,g,o,a,ke,Ce,null,Be),le()),m[0]&460481&&(d=te(k[9]),ee(),f=we(f,m,B,1,k,d,_,i,ke,Te,null,Ee),le()),(!b||m[0]&16384)&&T(e,"dragging",k[14])},i(k){if(!b){for(let m=0;m<g.length;m+=1)E(u[m]);for(let m=0;m<d.length;m+=1)E(f[m]);b=!0}},o(k){for(let m=0;m<u.length;m+=1)q(u[m]);for(let m=0;m<f.length;m+=1)q(f[m]);b=!1},d(k){k&&C(e),w&&w.d();for(let m=0;m<u.length;m+=1)u[m].d();for(let m=0;m<f.length;m+=1)f[m].d()}}}function Re(t){let e,l,n,a=t[3][1]==="dynamic"&&He(t),u=t[2][1]==="dynamic"&&Ue(t);return{c(){e=R("div"),a&&a.c(),l=V(),u&&u.c(),v(e,"class","controls-wrap svelte-1tclfmr")},m(o,s){M(o,e,s),a&&a.m(e,null),J(e,l),u&&u.m(e,null),n=!0},p(o,s){o[3][1]==="dynamic"?a?(a.p(o,s),s[0]&8&&E(a,1)):(a=He(o),a.c(),E(a,1),a.m(e,l)):a&&(ee(),q(a,1,1,()=>{a=null}),le()),o[2][1]==="dynamic"?u?(u.p(o,s),s[0]&4&&E(u,1)):(u=Ue(o),u.c(),E(u,1),u.m(e,null)):u&&(ee(),q(u,1,1,()=>{u=null}),le())},i(o){n||(E(a),E(u),n=!0)},o(o){q(a),q(u),n=!1},d(o){o&&C(e),a&&a.d(),u&&u.d()}}}function He(t){let e,l,n;return l=new Ve({props:{variant:"secondary",size:"sm",$$slots:{default:[yl]},$$scope:{ctx:t}}}),l.$on("click",t[43]),{c(){e=R("span"),z(l.$$.fragment),v(e,"class","button-wrap svelte-1tclfmr")},m(a,u){M(a,e,u),I(l,e,null),n=!0},p(a,u){const o={};u[1]&1073741824&&(o.$$scope={dirty:u,ctx:a}),l.$set(o)},i(a){n||(E(l.$$.fragment,a),n=!0)},o(a){q(l.$$.fragment,a),n=!1},d(a){a&&C(e),F(l)}}}function yl(t){let e,l,n;return{c(){e=ne("svg"),l=ne("path"),n=ue(`
						New row`),v(l,"fill","currentColor"),v(l,"d","M24.59 16.59L17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10l10-10l-1.41-1.41z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"width","1em"),v(e,"height","1em"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 32 32"),v(e,"class","svelte-1tclfmr")},m(a,u){M(a,e,u),J(e,l),M(a,n,u)},p:oe,d(a){a&&(C(e),C(n))}}}function Ue(t){let e,l,n;return l=new Ve({props:{variant:"secondary",size:"sm",$$slots:{default:[Al]},$$scope:{ctx:t}}}),l.$on("click",t[23]),{c(){e=R("span"),z(l.$$.fragment),v(e,"class","button-wrap svelte-1tclfmr")},m(a,u){M(a,e,u),I(l,e,null),n=!0},p(a,u){const o={};u[1]&1073741824&&(o.$$scope={dirty:u,ctx:a}),l.$set(o)},i(a){n||(E(l.$$.fragment,a),n=!0)},o(a){q(l.$$.fragment,a),n=!1},d(a){a&&C(e),F(l)}}}function Al(t){let e,l,n;return{c(){e=ne("svg"),l=ne("path"),n=ue(`
						New column`),v(l,"fill","currentColor"),v(l,"d","m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),v(e,"aria-hidden","true"),v(e,"role","img"),v(e,"width","1em"),v(e,"height","1em"),v(e,"preserveAspectRatio","xMidYMid meet"),v(e,"viewBox","0 0 32 32"),v(e,"class","svelte-1tclfmr")},m(a,u){M(a,e,u),J(e,l),M(a,n,u)},p:oe,d(a){a&&(C(e),C(n))}}}function Dl(t){let e,l,n,a,u,o,s,i,f,_=t[1]&&t[1].length!==0&&qe(t);function b(y){t[41](y)}let w={flex:!1,center:!1,boundedheight:!1,disable_click:!0,$$slots:{default:[pl]},$$scope:{ctx:t}};t[14]!==void 0&&(w.dragging=t[14]),a=new gl({props:w}),G.push(()=>X(a,"dragging",b)),a.$on("load",t[42]);let g=t[4]&&Re(t);return{c(){e=R("div"),_&&_.c(),l=V(),n=R("div"),z(a.$$.fragment),o=V(),g&&g.c(),v(n,"class","table-wrap scroll-hide svelte-1tclfmr"),T(n,"dragging",t[14]),T(n,"no-wrap",!t[5]),v(e,"class","svelte-1tclfmr"),T(e,"label",t[1]&&t[1].length!==0)},m(y,d){M(y,e,d),_&&_.m(e,null),J(e,l),J(e,n),I(a,n,null),J(e,o),g&&g.m(e,null),s=!0,i||(f=[W(window,"click",t[24]),W(window,"touchstart",t[24])],i=!0)},p(y,d){y[1]&&y[1].length!==0?_?_.p(y,d):(_=qe(y),_.c(),_.m(e,l)):_&&(_.d(1),_=null);const B={};d[0]&32707|d[1]&1073741824&&(B.$$scope={dirty:d,ctx:y}),!u&&d[0]&16384&&(u=!0,B.dragging=y[14],x(()=>u=!1)),a.$set(B),(!s||d[0]&16384)&&T(n,"dragging",y[14]),(!s||d[0]&32)&&T(n,"no-wrap",!y[5]),y[4]?g?(g.p(y,d),d[0]&16&&E(g,1)):(g=Re(y),g.c(),E(g,1),g.m(e,null)):g&&(ee(),q(g,1,1,()=>{g=null}),le()),(!s||d[0]&2)&&T(e,"label",y[1]&&y[1].length!==0)},i(y){s||(E(a.$$.fragment,y),E(g),s=!0)},o(y){q(a.$$.fragment,y),q(g),s=!1},d(y){y&&C(e),_&&_.d(),F(a),g&&g.d(),i=!1,ve(f)}}}function Nl(t,e){return e.filter(l);function l(n){var a=-1;return t.split(`
`).every(u);function u(o){if(!o)return!0;var s=o.split(n).length;return a<0&&(a=s),a===s&&s>1}}}function Sl(t){const e=atob(t.split(",")[1]),l=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),a=new Uint8Array(n);for(let u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return new Blob([n],{type:l})}function Ol(t,e,l){let{datatype:n}=e,{label:a=null}=e,{headers:u=[]}=e,{values:o=[[]]}=e,{col_count:s}=e,{row_count:i}=e,{editable:f=!0}=e,{wrap:_=!1}=e,b=!1;const w=ye();let g=!1;const y=(r,h)=>A[r][h].value;let d={};function B(r){let h=r||[];if(s[1]==="fixed"&&h.length<s[0]){const D=Array(s[0]-h.length).fill("").map((N,O)=>`${O+h.length}`);h=h.concat(D)}return!h||h.length===0?Array(s[0]).fill(0).map((D,N)=>{const O=`h-${N}`;return l(10,d[O]={cell:null,input:null},d),{id:O,value:JSON.stringify(N+1)}}):h.map((D,N)=>{const O=`h-${N}`;return l(10,d[O]={cell:null,input:null},d),{id:O,value:D??""}})}function k(r){const h=r.length>0?r.length:i[0];return Array(i[1]==="fixed"||h<i[0]?i[0]:h).fill(0).map((D,N)=>Array(s[1]==="fixed"?s[0]:r[0].length).fill(0).map((O,P)=>{const j=`${N}-${P}`;return l(10,d[j]={input:null,cell:null},d),{value:r?.[N]?.[P]??"",id:j}}))}let m=B(u),S;async function L(){typeof g=="string"?(await Z(),d[g]?.input?.focus()):typeof b=="string"&&(await Z(),d[b]?.input?.focus())}let A=[[]],c;function H(r,h,D){if(!h)return"none";if(u[h]===r){if(D==="asc")return"ascending";if(D==="des")return"descending"}return"none"}function U(r){return A.reduce((h,D,N)=>{const O=D.reduce((P,j,me)=>r===j.id?me:P,-1);return O===-1?h:[N,O]},[-1,-1])}async function Y(r,h){if(!f||g===r)return;if(h){const[N,O]=U(r);l(9,A[N][O].value="",A)}l(7,g=r),await Z();const{input:D}=d[r];D?.focus()}async function fe(r,h,D,N){let O;switch(r.key){case"ArrowRight":if(g)break;r.preventDefault(),O=A[h][D+1],l(6,b=O?O.id:b);break;case"ArrowLeft":if(g)break;r.preventDefault(),O=A[h][D-1],l(6,b=O?O.id:b);break;case"ArrowDown":if(g)break;r.preventDefault(),O=A[h+1],l(6,b=O?O[D].id:b);break;case"ArrowUp":if(g)break;r.preventDefault(),O=A[h-1],l(6,b=O?O[D].id:b);break;case"Escape":if(!f)break;r.preventDefault(),l(6,b=g),l(7,g=!1);break;case"Enter":if(!f)break;if(r.preventDefault(),r.shiftKey){he(h),await Z();const[dl]=U(N);l(6,b=A[dl+1][D].id)}else g===N?l(7,g=!1):Y(N);break;case"Backspace":if(!f)break;g||(r.preventDefault(),l(9,A[h][D].value="",A));break;case"Delete":if(!f)break;g||(r.preventDefault(),l(9,A[h][D].value="",A));break;case"Tab":let P=r.shiftKey?-1:1,j=A[h][D+P],me=A?.[h+P]?.[P>0?0:m.length-1],be=j||me;be&&(r.preventDefault(),l(6,b=be?be.id:b)),l(7,g=!1);break;default:(!g||g&&g!==N)&&r.key.length===1&&Y(N,!0);break}}async function re(r){g!==r&&b!==r&&(l(7,g=!1),l(6,b=r))}async function p(r,h){if(h==="edit"&&typeof r=="string"&&(await Z(),d[r].input?.focus()),h==="edit"&&typeof r=="boolean"&&typeof b=="string"){let D=d[b]?.cell;await Z(),D?.focus()}if(h==="select"&&typeof r=="string"){const{cell:D}=d[r];await Z(),D?.focus()}}let $,_e;function Ze(r,h){h==="asc"?l(9,A=A.sort((D,N)=>D[r].value<N[r].value?-1:1)):h==="des"&&l(9,A=A.sort((D,N)=>D[r].value>N[r].value?-1:1))}function Ae(r){typeof _e!="number"||_e!==r?(l(11,$="asc"),l(12,_e=r)):$==="asc"?l(11,$="des"):$==="des"&&l(11,$="asc"),Ze(r,$)}let K;function De(){if(typeof b=="string"){const r=d[b].input?.value;if(m.find(h=>h.id===b)){let h=m.find(D=>D.id===b);r&&(h.value=r)}else r&&m.push({id:b,value:r})}}async function de(r,h){!f||s[1]!=="dynamic"||g===r||(l(13,K=r),await Z(),d[r].input?.focus(),h&&d[r].input?.select())}function je(r){if(f)switch(r.key){case"Escape":case"Enter":case"Tab":r.preventDefault(),l(6,b=K),l(13,K=!1),De();break}}function he(r){i[1]==="dynamic"&&(A.splice(r?r+1:A.length,0,Array(A[0].length).fill(0).map((h,D)=>{const N=`${A.length}-${D}`;return l(10,d[N]={cell:null,input:null},d),{id:N,value:""}})),l(9,A),l(27,o),l(29,c),l(26,u))}async function Xe(){if(s[1]!=="dynamic")return;for(let h=0;h<A.length;h++){const D=`${h}-${A[h].length}`;l(10,d[D]={cell:null,input:null},d),A[h].push({id:D,value:""})}const r=`h-${m.length}`;l(10,d[r]={cell:null,input:null},d),m.push({id:r,value:`Header ${m.length+1}`}),l(9,A),l(27,o),l(29,c),l(26,u),l(8,m),l(26,u),l(28,S),l(27,o),await Z(),de(r,!0)}function xe(r){typeof g=="string"&&d[g]&&d[g].cell!==r.target&&!d[g].cell?.contains(r?.target)&&l(7,g=!1),typeof K=="string"&&d[K]&&d[K].cell!==r.target&&!d[K].cell?.contains(r.target)&&(l(6,b=K),l(13,K=!1),De(),l(13,K=!1))}function Ne(r){const h=new FileReader;function D(N){if(!N?.target?.result||typeof N.target.result!="string")return;const[O]=Nl(N.target.result,[",","	"]),[P,...j]=ml(O).parseRows(N.target.result);l(8,m=B(s[1]==="fixed"?P.slice(0,s[0]):P)),l(27,o=j),h.removeEventListener("loadend",D)}h.addEventListener("loadend",D),h.readAsText(r)}let ge=!1;function $e(r,h){t.$$.not_equal(d[h].input,r)&&(d[h].input=r,l(10,d))}const el=r=>de(r),ll=r=>Ae(r);function tl(r,h){G[r?"unshift":"push"](()=>{d[h].cell=r,l(10,d)})}function nl(r,h,D,N){D[N].value=r,l(9,A),l(27,o),l(29,c),l(26,u)}function al(r,h){t.$$.not_equal(d[h].input,r)&&(d[h].input=r,l(10,d))}function il(r,h){G[r?"unshift":"push"](()=>{d[h].cell=r,l(10,d)})}const sl=r=>Y(r),ul=r=>re(r),fl=r=>Y(r),rl=(r,h,D,N)=>fe(N,r,h,D);function _l(r){ge=r,l(14,ge)}const ol=r=>Ne(Sl(r.detail.data)),cl=()=>he();return t.$$set=r=>{"datatype"in r&&l(0,n=r.datatype),"label"in r&&l(1,a=r.label),"headers"in r&&l(26,u=r.headers),"values"in r&&l(27,o=r.values),"col_count"in r&&l(2,s=r.col_count),"row_count"in r&&l(3,i=r.row_count),"editable"in r&&l(4,f=r.editable),"wrap"in r&&l(5,_=r.wrap)},t.$$.update=()=>{if(t.$$.dirty[0]&201326592&&(o&&!Array.isArray(o)?(l(26,u=o.headers),l(27,o=o.data.length===0?[Array(u.length).fill("")]:o.data),l(6,b=!1)):o===null&&(l(27,o=[Array(u.length).fill("")]),l(6,b=!1))),t.$$.dirty[0]&64&&b!==!1){const r=b.split("-"),h=parseInt(r[0]),D=parseInt(r[1]);!isNaN(h)&&!isNaN(D)&&w("select",{index:[h,D],value:y(h,D)})}t.$$.dirty[0]&335544320&&(ce(u,S)||(l(8,m=B(u)),l(28,S=u),L())),t.$$.dirty[0]&671088640&&(ce(o,c)||(l(9,A=k(o)),l(29,c=o),L())),t.$$.dirty[0]&768&&m&&w("change",{data:A.map(r=>r.map(({value:h})=>h)),headers:m.map(r=>r.value)}),t.$$.dirty[0]&128&&p(g,"edit"),t.$$.dirty[0]&64&&p(b,"select")},[n,a,s,i,f,_,b,g,m,A,d,$,_e,K,ge,H,Y,fe,re,Ae,de,je,he,Xe,xe,Ne,u,o,S,c,$e,el,ll,tl,nl,al,il,sl,ul,fl,rl,_l,ol,cl]}class We extends ae{constructor(e){super(),ie(this,e,Ol,Dl,se,{datatype:0,label:1,headers:26,values:27,col_count:2,row_count:3,editable:4,wrap:5},null,[-1,-1])}}function El(t){let e,l,n,a;const u=[t[12]];let o={};for(let s=0;s<u.length;s+=1)o=Fe(o,u[s]);return e=new Ye({props:o}),n=new We({props:{label:t[7],row_count:t[6],col_count:t[5],values:t[0],headers:t[1],wrap:t[8],datatype:t[9]}}),n.$on("change",t[15]),n.$on("select",t[16]),{c(){z(e.$$.fragment),l=V(),z(n.$$.fragment)},m(s,i){I(e,s,i),M(s,l,i),I(n,s,i),a=!0},p(s,i){const f=i&4096?Ke(u,[Pe(s[12])]):{};e.$set(f);const _={};i&128&&(_.label=s[7]),i&64&&(_.row_count=s[6]),i&32&&(_.col_count=s[5]),i&1&&(_.values=s[0]),i&2&&(_.headers=s[1]),i&256&&(_.wrap=s[8]),i&512&&(_.datatype=s[9]),n.$set(_)},i(s){a||(E(e.$$.fragment,s),E(n.$$.fragment,s),a=!0)},o(s){q(e.$$.fragment,s),q(n.$$.fragment,s),a=!1},d(s){s&&C(l),F(e,s),F(n,s)}}}function Ll(t){let e,l;return e=new Ge({props:{visible:t[4],padding:!1,elem_id:t[2],elem_classes:t[3],container:!1,scale:t[10],min_width:t[11],allow_overflow:!1,$$slots:{default:[El]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(n,a){I(e,n,a),l=!0},p(n,[a]){const u={};a&16&&(u.visible=n[4]),a&4&&(u.elem_id=n[2]),a&8&&(u.elem_classes=n[3]),a&1024&&(u.scale=n[10]),a&2048&&(u.min_width=n[11]),a&529379&&(u.$$scope={dirty:a,ctx:n}),e.$set(u)},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){q(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Bl(t,e,l){let{headers:n=[]}=e,{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{value:s={data:[["","",""]],headers:["1","2","3"]}}=e,i=JSON.stringify(s),{value_is_output:f=!1}=e,{col_count:_}=e,{row_count:b}=e,{label:w=null}=e,{wrap:g}=e,{datatype:y}=e,{scale:d=null}=e,{min_width:B=void 0}=e;const k=ye();let{loading_status:m}=e;function S(){k("change",s),f||k("input")}Ie(()=>{l(13,f=!1)});const L=({detail:c})=>{l(0,s=c)};function A(c){Q.call(this,t,c)}return t.$$set=c=>{"headers"in c&&l(1,n=c.headers),"elem_id"in c&&l(2,a=c.elem_id),"elem_classes"in c&&l(3,u=c.elem_classes),"visible"in c&&l(4,o=c.visible),"value"in c&&l(0,s=c.value),"value_is_output"in c&&l(13,f=c.value_is_output),"col_count"in c&&l(5,_=c.col_count),"row_count"in c&&l(6,b=c.row_count),"label"in c&&l(7,w=c.label),"wrap"in c&&l(8,g=c.wrap),"datatype"in c&&l(9,y=c.datatype),"scale"in c&&l(10,d=c.scale),"min_width"in c&&l(11,B=c.min_width),"loading_status"in c&&l(12,m=c.loading_status)},t.$$.update=()=>{t.$$.dirty&16385&&JSON.stringify(s)!==i&&(l(14,i=JSON.stringify(s)),S())},[s,n,a,u,o,_,b,w,g,y,d,B,m,f,i,L,A]}class ql extends ae{constructor(e){super(),ie(this,e,Bl,Ll,se,{headers:1,elem_id:2,elem_classes:3,visible:4,value:0,value_is_output:13,col_count:5,row_count:6,label:7,wrap:8,datatype:9,scale:10,min_width:11,loading_status:12})}}function Ml(t){let e,l,n,a;const u=[t[12]];let o={};for(let s=0;s<u.length;s+=1)o=Fe(o,u[s]);return e=new Ye({props:o}),n=new We({props:{label:t[7],row_count:t[6],col_count:t[5],values:t[0],headers:t[1],editable:!0,wrap:t[8],datatype:t[9]}}),n.$on("change",t[15]),n.$on("select",t[16]),{c(){z(e.$$.fragment),l=V(),z(n.$$.fragment)},m(s,i){I(e,s,i),M(s,l,i),I(n,s,i),a=!0},p(s,i){const f=i&4096?Ke(u,[Pe(s[12])]):{};e.$set(f);const _={};i&128&&(_.label=s[7]),i&64&&(_.row_count=s[6]),i&32&&(_.col_count=s[5]),i&1&&(_.values=s[0]),i&2&&(_.headers=s[1]),i&256&&(_.wrap=s[8]),i&512&&(_.datatype=s[9]),n.$set(_)},i(s){a||(E(e.$$.fragment,s),E(n.$$.fragment,s),a=!0)},o(s){q(e.$$.fragment,s),q(n.$$.fragment,s),a=!1},d(s){s&&C(l),F(e,s),F(n,s)}}}function Cl(t){let e,l;return e=new Ge({props:{visible:t[4],padding:!1,elem_id:t[2],elem_classes:t[3],container:!1,scale:t[10],min_width:t[11],allow_overflow:!1,$$slots:{default:[Ml]},$$scope:{ctx:t}}}),{c(){z(e.$$.fragment)},m(n,a){I(e,n,a),l=!0},p(n,[a]){const u={};a&16&&(u.visible=n[4]),a&4&&(u.elem_id=n[2]),a&8&&(u.elem_classes=n[3]),a&1024&&(u.scale=n[10]),a&2048&&(u.min_width=n[11]),a&529379&&(u.$$scope={dirty:a,ctx:n}),e.$set(u)},i(n){l||(E(e.$$.fragment,n),l=!0)},o(n){q(e.$$.fragment,n),l=!1},d(n){F(e,n)}}}function Jl(t,e,l){let{headers:n=[]}=e,{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{value:s={data:[["","",""]],headers:["1","2","3"]}}=e,i=JSON.stringify(s),{value_is_output:f=!1}=e,{col_count:_}=e,{row_count:b}=e,{label:w=null}=e,{wrap:g}=e,{datatype:y}=e,{scale:d=null}=e,{min_width:B=void 0}=e;const k=ye();let{loading_status:m}=e;function S(){k("change",s),f||k("input")}Ie(()=>{l(13,f=!1)});const L=({detail:c})=>{l(0,s=c)};function A(c){Q.call(this,t,c)}return t.$$set=c=>{"headers"in c&&l(1,n=c.headers),"elem_id"in c&&l(2,a=c.elem_id),"elem_classes"in c&&l(3,u=c.elem_classes),"visible"in c&&l(4,o=c.visible),"value"in c&&l(0,s=c.value),"value_is_output"in c&&l(13,f=c.value_is_output),"col_count"in c&&l(5,_=c.col_count),"row_count"in c&&l(6,b=c.row_count),"label"in c&&l(7,w=c.label),"wrap"in c&&l(8,g=c.wrap),"datatype"in c&&l(9,y=c.datatype),"scale"in c&&l(10,d=c.scale),"min_width"in c&&l(11,B=c.min_width),"loading_status"in c&&l(12,m=c.loading_status)},t.$$.update=()=>{t.$$.dirty&16385&&JSON.stringify(s)!==i&&(l(14,i=JSON.stringify(s)),S())},[s,n,a,u,o,_,b,w,g,y,d,B,m,f,i,L,A]}class Tl extends ae{constructor(e){super(),ie(this,e,Jl,Cl,se,{headers:1,elem_id:2,elem_classes:3,visible:4,value:0,value_is_output:13,col_count:5,row_count:6,label:7,wrap:8,datatype:9,scale:10,min_width:11,loading_status:12})}}function Rl(t){let e,l,n,a;function u(i){t[20](i)}function o(i){t[21](i)}let s={headers:t[2],elem_id:t[3],elem_classes:t[4],visible:t[5],col_count:t[7],row_count:t[8],label:t[9],wrap:t[10],datatype:t[11],scale:t[12],min_width:t[13],loading_status:t[14]};return t[1]!==void 0&&(s.value=t[1]),t[0]!==void 0&&(s.value_is_output=t[0]),e=new Tl({props:s}),G.push(()=>X(e,"value",u)),G.push(()=>X(e,"value_is_output",o)),e.$on("change",t[22]),e.$on("select",t[23]),e.$on("input",t[24]),{c(){z(e.$$.fragment)},m(i,f){I(e,i,f),a=!0},p(i,f){const _={};f&4&&(_.headers=i[2]),f&8&&(_.elem_id=i[3]),f&16&&(_.elem_classes=i[4]),f&32&&(_.visible=i[5]),f&128&&(_.col_count=i[7]),f&256&&(_.row_count=i[8]),f&512&&(_.label=i[9]),f&1024&&(_.wrap=i[10]),f&2048&&(_.datatype=i[11]),f&4096&&(_.scale=i[12]),f&8192&&(_.min_width=i[13]),f&16384&&(_.loading_status=i[14]),!l&&f&2&&(l=!0,_.value=i[1],x(()=>l=!1)),!n&&f&1&&(n=!0,_.value_is_output=i[0],x(()=>n=!1)),e.$set(_)},i(i){a||(E(e.$$.fragment,i),a=!0)},o(i){q(e.$$.fragment,i),a=!1},d(i){F(e,i)}}}function Hl(t){let e,l,n,a;function u(i){t[15](i)}function o(i){t[16](i)}let s={headers:t[2],elem_id:t[3],elem_classes:t[4],visible:t[5],col_count:t[7],row_count:t[8],label:t[9],wrap:t[10],datatype:t[11],scale:t[12],min_width:t[13],loading_status:t[14]};return t[1]!==void 0&&(s.value=t[1]),t[0]!==void 0&&(s.value_is_output=t[0]),e=new ql({props:s}),G.push(()=>X(e,"value",u)),G.push(()=>X(e,"value_is_output",o)),e.$on("change",t[17]),e.$on("select",t[18]),e.$on("input",t[19]),{c(){z(e.$$.fragment)},m(i,f){I(e,i,f),a=!0},p(i,f){const _={};f&4&&(_.headers=i[2]),f&8&&(_.elem_id=i[3]),f&16&&(_.elem_classes=i[4]),f&32&&(_.visible=i[5]),f&128&&(_.col_count=i[7]),f&256&&(_.row_count=i[8]),f&512&&(_.label=i[9]),f&1024&&(_.wrap=i[10]),f&2048&&(_.datatype=i[11]),f&4096&&(_.scale=i[12]),f&8192&&(_.min_width=i[13]),f&16384&&(_.loading_status=i[14]),!l&&f&2&&(l=!0,_.value=i[1],x(()=>l=!1)),!n&&f&1&&(n=!0,_.value_is_output=i[0],x(()=>n=!1)),e.$set(_)},i(i){a||(E(e.$$.fragment,i),a=!0)},o(i){q(e.$$.fragment,i),a=!1},d(i){F(e,i)}}}function Ul(t){let e,l,n,a;const u=[Hl,Rl],o=[];function s(i,f){return i[6]==="static"?0:1}return e=s(t),l=o[e]=u[e](t),{c(){l.c(),n=ze()},m(i,f){o[e].m(i,f),M(i,n,f),a=!0},p(i,[f]){let _=e;e=s(i),e===_?o[e].p(i,f):(ee(),q(o[_],1,1,()=>{o[_]=null}),le(),l=o[e],l?l.p(i,f):(l=o[e]=u[e](i),l.c()),E(l,1),l.m(n.parentNode,n))},i(i){a||(E(l),a=!0)},o(i){q(l),a=!1},d(i){i&&C(n),o[e].d(i)}}}function zl(t,e,l){let{headers:n=[]}=e,{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{value_is_output:s=!1}=e,{mode:i}=e,{col_count:f}=e,{row_count:_}=e,{label:b=null}=e,{wrap:w}=e,{datatype:g}=e,{scale:y=null}=e,{min_width:d=void 0}=e,{loading_status:B}=e,{value:k={data:[["","",""]],headers:["1","2","3"]}}=e;function m(p){k=p,l(1,k)}function S(p){s=p,l(0,s)}function L(p){Q.call(this,t,p)}function A(p){Q.call(this,t,p)}function c(p){Q.call(this,t,p)}function H(p){k=p,l(1,k)}function U(p){s=p,l(0,s)}function Y(p){Q.call(this,t,p)}function fe(p){Q.call(this,t,p)}function re(p){Q.call(this,t,p)}return t.$$set=p=>{"headers"in p&&l(2,n=p.headers),"elem_id"in p&&l(3,a=p.elem_id),"elem_classes"in p&&l(4,u=p.elem_classes),"visible"in p&&l(5,o=p.visible),"value_is_output"in p&&l(0,s=p.value_is_output),"mode"in p&&l(6,i=p.mode),"col_count"in p&&l(7,f=p.col_count),"row_count"in p&&l(8,_=p.row_count),"label"in p&&l(9,b=p.label),"wrap"in p&&l(10,w=p.wrap),"datatype"in p&&l(11,g=p.datatype),"scale"in p&&l(12,y=p.scale),"min_width"in p&&l(13,d=p.min_width),"loading_status"in p&&l(14,B=p.loading_status),"value"in p&&l(1,k=p.value)},[s,k,n,a,u,o,i,f,_,b,w,g,y,d,B,m,S,L,A,c,H,U,Y,fe,re]}class Il extends ae{constructor(e){super(),ie(this,e,zl,Ul,se,{headers:2,elem_id:3,elem_classes:4,visible:5,value_is_output:0,mode:6,col_count:7,row_count:8,label:9,wrap:10,datatype:11,scale:12,min_width:13,loading_status:14,value:1})}}const Gl=Il,Ql=["static","dynamic"];export{Gl as Component,Ql as modes};
//# sourceMappingURL=index-96c8120d.js.map
